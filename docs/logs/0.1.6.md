# 0.1.6 - 迭代规划中

> 主题：回归单窗口终端体验，提升主工作区利用率，并启动 Windows 平台适配。

## 🗺️ 目标纲要
- 终止终端分离方案：移除相关 UI、IPC、路由以及会话复用逻辑，专注单窗口体验。
- 重构主界面布局：将会话切换与状态展示迁移至左侧纵向面板，扩大终端可视面积并支持拖曳排序。
- Windows 平台预研：梳理协议注册、可执行签名、图标/快捷方式以及安装流程的差异，形成任务拆解。
 - 引入实时多语言切换：统一渲染层与 Electron 设置逻辑，避免语言切换时需要重启或断开连接。

## 🚀 启动准备（2025-10-08）
- 盘点所有与窗口分离相关的组件/桥接代码，确认安全移除清单。
- 设计新的会话列表交互（高亮、状态提示、关闭操作、拖曳排序）。
- 收集 Windows 平台下的 Electron 打包注意事项（Squirrel / NSIS / 自定义脚本）及 telnet 协议注册策略。

## ✅ 今日更新（2025-10-08）
- 记录 0.1.5 收尾情况并建立 0.1.6 行动日志，明确三大任务线。
- 完成终端分离功能的全链路清理：移除 React 侧旧布局、预加载桥接与 Electron 主进程窗口管理逻辑。
- 替换旧「分离窗口」路由为提示页，确保残留入口不会触发构建错误。

## ✅ 今日更新（2025-10-10）
- 新增 Windows x64 打包流程：配置 electron-builder NSIS 目标、生成平台图标并提供 `pnpm run dist:win` 指令。
- 在主进程设置 AppUserModelID，确保 Windows 快捷方式与 telnet 协议注册工作正常。

## ✅ 今日更新（2025-10-11）
- 完成运行时语言切换方案：新增 `LocaleProvider` 上下文、统一字典加载方式，并确保 Telnet 会话在切换语言时保持连接。
- 更新 Electron IPC：设置项改为即时落盘，无需提示重启，`preload` 类型声明同步刷新。
- 调整主界面及设置页副本，全部改为消费上下文字典，继续强化单窗口体验布局。
- 引入 GitHub Actions 自动构建释放流程：区分正式版/预发布标签，分别生成 Linux AppImage 与 Windows 安装包。
- 统一发行产物命名规则，改为 `pnet-tool-版本号` 小写格式，避免空格与大小写混杂。

## 🔜 待办清单
- [x] 落实 0.1.5 中的分离终端清理工作（前端、Electron 主进程、预加载、路由）。
- [x] 搭建 Windows x64 最小打包链路（图标、安装器、默认协议绑定）。
- [x] 完成主界面布局改造与样式微调，确保响应式行为稳定。
- [x] 输出 Windows 平台适配调研结论及最小可行方案（MVP）计划。
- [x] 建立自动化构建发布流水线，并根据标签区分正式版与预发布。
- [ ] 结合 AppImage 与 NSIS 构建产物，补充安装与回归测试指引。

> 备注：本迭代将在完成上述基础工作后，逐步评估自动化测试与发行链路的同步更新。